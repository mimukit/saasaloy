---
import BaseLayout from "./BaseLayout.astro";
import {
  BlogPostDetail,
  type RelatedPost,
  type PostNavigation,
} from "@repo/ui/blocks/marketing/blog/blog-post-detail";
import { Footer } from "@repo/ui/blocks/marketing/footer/footer-center";

interface Props {
  title: string;
  description: string;
  publishedAt: Date;
  updatedDate?: Date;
  heroImage?: ImageMetadata;
  category?: string;
  tags?: string[];
  relatedPosts?: RelatedPost[];
  navigation?: PostNavigation;
}

const {
  title,
  description,
  publishedAt,
  updatedDate,
  heroImage,
  category,
  tags,
  relatedPosts = [],
  navigation,
} = Astro.props;
---

<BaseLayout title={`${title} | SaasAloy Blog`} description={description}>
  <BlogPostDetail
    title={title}
    description={description}
    publishedAt={publishedAt.toISOString()}
    updatedDate={updatedDate ? updatedDate.toISOString() : undefined}
    heroImageSrc={heroImage?.src}
    category={category}
    tags={tags}
    relatedPosts={relatedPosts}
    navigation={navigation}
    client:load
  >
    <slot />
  </BlogPostDetail>
  <Footer />
</BaseLayout>
